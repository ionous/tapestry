// Code generated by "makeops"; edit at your own risk.
package render

import (
	"git.sr.ht/~ionous/iffy/dl/composer"
	"git.sr.ht/~ionous/iffy/dl/core"
	"git.sr.ht/~ionous/iffy/dl/value"
	"git.sr.ht/~ionous/iffy/rt"
)

// RenderExp
type RenderExp struct {
	Expression rt.TextEval `if:"label=_"`
}

var _ rt.TextEval = (*RenderExp)(nil)

func (*RenderExp) Compose() composer.Spec {
	return composer.Spec{
		Name: "render_exp",
		Uses: "flow",
	}
}

// RenderField in template phrases, picks between record variables, object variables, and named global objects.,ex. could be &quot;ringBearer&quot;, &quot;SamWise&quot;, or &quot;frodo&quot;
type RenderField struct {
	Name rt.TextEval `if:"label=_"`
}

var _ core.FromSourceFields = (*RenderField)(nil)

func (*RenderField) Compose() composer.Spec {
	return composer.Spec{
		Name: "render_field",
		Uses: "flow",
	}
}

// RenderFlags requires a user-specified string.
type RenderFlags struct {
	Str string
}

func (op *RenderFlags) String() (ret string) {
	if s := op.Str; s != "$EMPTY" {
		ret = s
	}
	return
}

const RenderFlags_RenderAsVar = "$RENDER_AS_VAR"
const RenderFlags_RenderAsObj = "$RENDER_AS_OBJ"
const RenderFlags_RenderAsAny = "$RENDER_AS_ANY"

func (*RenderFlags) Compose() composer.Spec {
	return composer.Spec{
		Name: "render_flags",
		Uses: "str",
		Choices: []string{
			RenderFlags_RenderAsVar, RenderFlags_RenderAsObj, RenderFlags_RenderAsAny,
		},
		Strings: []string{
			"render_as_var", "render_as_obj", "render_as_any",
		},
	}
}

// RenderName handles changing a template like {.boombip} into text.,if the name is a variable containing an object name: return the printed object name ( via &quot;print name&quot; ),if the name is a variable with some other text: return that text.,if the name isn&#x27;t a variable but refers to some object: return that object&#x27;s printed object name.,otherwise, its an error.
type RenderName struct {
	Name string `if:"label=_,type=string"`
}

var _ rt.TextEval = (*RenderName)(nil)

func (*RenderName) Compose() composer.Spec {
	return composer.Spec{
		Name: "render_name",
		Uses: "flow",
	}
}

// RenderPattern printing is generally an activity b/c say is an activity,and we want the ability to say several things in series.
type RenderPattern struct {
	Pattern   value.PatternName `if:"label=_"`
	Arguments core.CallArgs     `if:"label=args"`
}

var _ rt.Assignment = (*RenderPattern)(nil)
var _ rt.TextEval = (*RenderPattern)(nil)

func (*RenderPattern) Compose() composer.Spec {
	return composer.Spec{
		Name: "render_pattern",
		Uses: "flow",
		Lede: "render",
	}
}

// RenderRef returns the value of a variable or the id of an object.
type RenderRef struct {
	Name  value.VariableName `if:"label=_"`
	Flags RenderFlags        `if:"label=flags"`
}

var _ rt.Assignment = (*RenderRef)(nil)
var _ rt.NumberEval = (*RenderRef)(nil)
var _ rt.TextEval = (*RenderRef)(nil)

func (*RenderRef) Compose() composer.Spec {
	return composer.Spec{
		Name: "render_ref",
		Uses: "flow",
	}
}

var Slats = []composer.Composer{
	(*RenderExp)(nil),
	(*RenderField)(nil),
	(*RenderFlags)(nil),
	(*RenderName)(nil),
	(*RenderPattern)(nil),
	(*RenderRef)(nil),
}
