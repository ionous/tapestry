{"Tapestry:":[{"Define test:do:":["factorial",[{"Expect:":{"Is:matching:num:":[6,"equal_to",{"Factorial num:":{"FromNum:":3}}]}}]]},{"Define pattern:requires:provides:do:":["factorial",[{"--":"just one argument, a number called 'num'","Num:":"num"}],[{"--":"the result uses the same variable as the pattern input does","Num:":"num"}],[{"--":"by default, return one","Set:value:":["@num",{"FromNum:":1}]}]]},{"Define rule:do:":["factorial",[{"If:do:":[{"--":"above zero, subtract one","Is:matching:num:":["@num","greater_than",0]},[{"Set:value:":["@num",{"FromNum:":{"Multiply:value:":["@num",{"Subtract:value:":["@num",1]}]}}]}]]}]]}]}