-- list of parser aliases for a noun.
-- puts the author specified name first,
-- followed by explicit understandings,
-- and finally: any autogenerated names
-- params:
--  ?1: id of noun
--
with names as (
  select name, rank
  from mdl_name
  where noun=?1 -- int id
  -- we need alpha order
  -- order by (rank=0) desc, sign(rank), rowid
), lowernames as (
  select distinct lower(name) as lname from names 
  order by lname  
)
select name from names
where rank = 0
union all 
select lname from lowernames