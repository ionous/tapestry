{
  "Tapestry:": [
    {
      "Test:dependsOn:withScene:do:": [
        "reach test",
        "Kitchenette",
        [
          {
            "Nouns:depict:": [
              [
                {
                  "Noun:named:": [
                    "an",
                    {
                      "Noun:": "other worldly cloak"
                    }
                  ]
                }
              ],
              {
                "Kind:named:": [
                  "isa",
                  "thing"
                ]
              }
            ]
          },
          {
            "Comment:": "it is nowhere."
          },
          {
            "--": ""
          },
          {
            "RelativeToNoun:nouns:areBeing:otherNouns:": [
              "whereabouts",
              [
                {
                  "Noun:": "self"
                }
              ],
              "is",
              [
                {
                  "Noun:named:": [
                    "the",
                    {
                      "Noun:": "cabinet"
                    }
                  ]
                }
              ]
            ]
          }
        ],
        [
          {
            "If:from:and:does:else:": [
              "resp",
              {
                "FromTxt:": {
                  "CanReach actor:noun:": [
                    {
                      "FromTxt:": "self"
                    },
                    {
                      "FromTxt:": "beans"
                    }
                  ]
                }
              },
              {
                "Not:": {
                  "Is empty:": "@resp"
                }
              },
              [
                {
                  "Say:": {
                    "RenderTemplate:": "okay: {.resp}"
                  }
                }
              ],
              {
                "ElseDo does:": [
                  {
                    "Say:": "failed: shouldnt have reached into the espresso machine."
                  }
                ]
              }
            ]
          },
          {
            "Expect output:": "okay: The espresso machine isn't open."
          },
          {
            "If:from:and:does:else:": [
              "resp",
              {
                "FromTxt:": {
                  "CanReach actor:noun:": [
                    {
                      "FromTxt:": "self"
                    },
                    {
                      "FromTxt:": "tomatoes"
                    }
                  ]
                }
              },
              {
                "Not:": {
                  "Is empty:": "@resp"
                }
              },
              [
                {
                  "Say:": {
                    "RenderTemplate:": "failed: {.resp}"
                  }
                }
              ],
              {
                "ElseDo does:": [
                  {
                    "Say:": "okay: reached outside the open cabinet."
                  }
                ]
              }
            ]
          },
          {
            "Expect output:": "okay: reached outside the open cabinet."
          },
          {
            "Put:from:at:": [
              {
                "ObjField:": "espresso machine"
              },
              {
                "FromBool:": true
              },
              "open"
            ]
          },
          {
            "If:from:and:does:else:": [
              "resp",
              {
                "FromTxt:": {
                  "CanReach actor:noun:": [
                    {
                      "FromTxt:": "self"
                    },
                    {
                      "FromTxt:": "beans"
                    }
                  ]
                }
              },
              {
                "Not:": {
                  "Is empty:": "@resp"
                }
              },
              [
                {
                  "Say:": {
                    "RenderTemplate:": "failed: {.resp}"
                  }
                }
              ],
              {
                "ElseDo does:": [
                  {
                    "Say:": "okay: reached inside the open espresso machine."
                  }
                ]
              }
            ]
          },
          {
            "Expect output:": "okay: reached inside the open espresso machine."
          },
          {
            "Put:from:at:": [
              {
                "ObjField:": "cabinet"
              },
              {
                "FromBool:": true
              },
              "closed"
            ]
          },
          {
            "If:from:and:does:else:": [
              "resp",
              {
                "FromTxt:": {
                  "CanReach actor:noun:": [
                    {
                      "FromTxt:": "self"
                    },
                    {
                      "FromTxt:": "tomatoes"
                    }
                  ]
                }
              },
              {
                "Not:": {
                  "Is empty:": "@resp"
                }
              },
              [
                {
                  "Say:": {
                    "RenderTemplate:": "okay: {.resp}"
                  }
                }
              ],
              {
                "ElseDo does:": [
                  {
                    "Say:": "failed: shouldnt have reached from the closed cabinet."
                  }
                ]
              }
            ]
          },
          {
            "Expect output:": "okay: The cabinet isn't open."
          },
          {
            "If:from:and:does:else:": [
              "resp",
              {
                "FromTxt:": {
                  "CanReach actor:noun:": [
                    {
                      "FromTxt:": "self"
                    },
                    {
                      "FromTxt:": "cloak"
                    }
                  ]
                }
              },
              {
                "Not:": {
                  "Is empty:": "@resp"
                }
              },
              [
                {
                  "Say:": {
                    "RenderTemplate:": "okay: {.resp}"
                  }
                }
              ],
              {
                "ElseDo does:": [
                  {
                    "Say:": "failed: shouldnt have reached out of world."
                  }
                ]
              }
            ]
          },
          {
            "Expect output:": "okay: It isn't available."
          }
        ]
      ]
    }
  ]
}
